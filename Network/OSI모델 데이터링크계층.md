### 데이터 링크 계층
데이터 링크 계층은 네트워크 간에 신호를 주고받는 규칙을 정하는 계층
랜에서 데이터를 정상적으로 주고 받기 위해 필요한 계층
가장 많이 사용되는 규칙이 이더넷(Ethernet)

허브에서 특정 컴퓨터에만 데이터를 보내는 경우에도 다른 모든 컴퓨터에서 송신
데이터를 보내는 규칙을 정하여 다른 컴퓨터에서는 보지 못하도록 설정

컴퓨터 어러 대가 동시에 데이터를 보내는 경우 충돌 발생 가능
이더넷은 여러 컴퓨터가 동시에 데이터를 전송해도 충돌이 발생하지 않는 구조

- CSMA/CD : 이더넷에서 충돌이 발생하지 않도록 보내는 시점을 늦추는 방법
    - Camier Sense Multiple Access with Collision Detection, 반송파 감지 다중 접속 및 충돌 탐지
- CS : 데이터를 보내려고 하는 컴퓨터가 케이블에 신호가 흐르고 있는지 아닌지 확인
- MA : 케이블에 데이터가 흐록 있지 않다면 데이터를 보내도 좋다
- CD : 충돌이 발생하고 있는지 확인

CSNA/CD는 효율이 좋지 않아 스위치를 더 많이 사용

##### MAC 주소
- MAC 주소 : 랜카드에 새겨지는 물리주소로, 유일하게 할당
    - 48비트 숫자로 구성, 24비트의 제조사 번호와 24비트의 일련번호

- 이더넷 헤더와 트레일러를 붙여서 통신
    - 이더넷 헤더는 목적지 MAC주소(6바이트) + 출발지 MAC주소(6바이트) + 유형(2바이트) = 14바이트로 구성
    - 이터넷 유형은 이더넷으로 전송되는 상위 계층 프로토콜의 종류로 16진수 번호가 들어감

| 유형 번호 | 프로토콜           |
| --------- | ------------------ |
| 0800      | IPv4               |
| 0806      | ARP                |
| 8035      | RARP               |
| 814C      | SNMP over Ethernet |
| 86DD      | IPv6               |

- 트레일러는 FCS(Frame Check Sequence)라고도 불리고, 전송 도중 오류가 발생하는지 확인
    - 허브의 다른 컴퓨터로 데이터를 전송할 때, 캡슐화 발생
    - 이더넷 헤더와 트레일러를 추가하여 프레임을 만들고, 전기신호로 변환하여 전송

##### 스위치
데이터 링크 계층에서 동작하며, 레이어 2 스위치 또는 스위칭 허브라고도 불림
- 스위 내부에 MAC 주소 테이블이 존재하여, 스위치의 포트 번호와 해당 포트에 연결되어 있는 컴퓨터의 MAC주소가 등록되어 있는 데이터베이스
- MAC 주소 학습 기능 : 목적지 MAC 주소가 추가된 프레임이라는 데이터가 전송되면, MAC 주소 테이블 확인, 등록되어 있지 않으면 MAC주소를 포트와 함게 등록
- MAC 주소 필터링 : MAC 주소를 기준으로 목적지를 선택, 다른 불필요한 네트워크로 전송하지 않음

#### 전이중 통신, 반이중 통신
- 전이중 통신 방식 : 데이터의 송수신을 동시에 통신
    - 컴퓨터 두 대를 직접 연결한다면, 네 쌍을 사용하기 때문에 전이중 통신 방식
- 반이중 통신 방식 : 회선 하나로 송신과 수신을 번갈아가면서 통신하는 방식
    - 허브 내부에서 송수신이 나누어져 있지 않기 때문에, 충돌을 방지하기 위해 송신과 수신을 번갈아가며 사용
    - 허브에서 스위치를 사용하면 전이중 통신 방식을 사용 할 수 있음

- 충돌 도메인 : 허브에서 충돌이 발생할 때 그 영향이 미치는 범위

#### 이더넷 규격

| 규격 이름  | 통신 속도 | 케이블               | 케이블 최대 길이 | 표준화 연도 |
| ---------- | --------- | -------------------- | ---------------- | ----------- |
| 10BASE5    | 10Mbps    | 동축케이블           | 500m             | 1982년      |
| 10BASE2    | 10Mbps    | 동축케이블           | 185m             | 1988년      |
| 10BASE-T   | 10Mbps    | UTP케이블(Cat3이상)  | 100m             | 1990년      |
| 100BASE-TX | 100Mbps   | UTP케이블(Cat5이상)  | 100m             | 1995년      |
| 1000BASE-T | 1000Mbps  | UTP케이블(Cat5이상)  | 100m             | 1999년      |
| 10GBASE-T  | 10Gbps    | UTP케이블(Cat6a이상) | 100m             | 2006년      |

- 10BASE-T일 때, 통신속도(10), 전송방식(BASE), 케이블(T)로 구성
    - BSAE방식은 BASEBAND방식을 의미
